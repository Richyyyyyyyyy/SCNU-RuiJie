# 软件说明
 - 软件为华南师范大学大学城校园生活区宿舍编写,其他地点大概率使用受限
 - 本软件使用shell脚本编写,以期达到利用bug通过校园网认证后摆脱后台检测的目的
 - 你可以尝试把它放在路由器上运行XD
 - `./rjsupplicant`目录下的文件来自学校官方发布的linux客户端,你可以连上校园网后在[这里](http://10.10.232.51:8012/Setup/index.htm)找到它
 - 本软件仅作学习交流目的,造成的一切后果与本人无关

# 使用方法
 - 使用前先在args.cfg中键入校园网用户名(user),密码(password)等参数,若设备使用多张网卡,还需键入网卡(nic)
 - 进入当前目录使用`sudo ./rjscnu`启动程序
 - 也可使用`sudo ./rjscnu --user 123 --password 456`传递参数,传递的参数会覆盖args.cfg中的参数
 - 可以使用`sudo ./rjscnu -h`查看所有可以提供的参数
 - 若提示权限不足,请先使用`sudo chmod +x ./rjscnu.sh ./rjsupplicant/rjsupplicant.sh `为脚本提供可执行权限
 - 若程序启动成功,你会看到`不出意外你可以上网了>_<`
 - 针对路由器的使用,为了缩小体积,你可以使`rjscnu.sh`中的`rjpath`直接指向x86(或x64)中的相应二进制文件,并把x64(x86)目录删除即可
 - 若认证成功后想取消认证,请登录[学校的校园网自助服务平台](https://inet.scnu.edu.cn/selfservice/),然后找到你的设备使其下线

 # 实现原理
 - 官方提供的客户端内嵌了多网卡检测,共享检测等功能(没错是在客户端中,服务器中并不会检测)
 - 为了摆脱检测,我们起初期望使用mentohust等软件替代官方客户端发包,在测试过程中我们意外发现了一个bug,官方客户端启动时会产生几个进程,当官方客户端以不正确方式退出的时候(例如我们最开始发现的是`Segmentation fault (core dumped)`)还会剩余一个进程,此时仍然可以上网,而当我们结束这个进程(`kill`)之后,依然可以上网
 - 进一步测试发现,在官方客户端启动的时候,直接强制结束(`kill -9`)上文提到的进程,可以达到同样的效果
 - 具体原理有待抓包分析,总之这是一个很神奇的小bug,可以实现本地失去心跳后继续上网

 # 写在最后
 - 希望有华师的小伙伴在不同物理环境下(其他宿舍楼甚至其他校区)测试一下这个方法,欢迎将测试结果反馈给我
 - 有其他问题也可以联系我交流
 - 我的邮箱地址:`richy06@foxmail.com`